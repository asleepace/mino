{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "Mino Injections",
  "scopeName": "source.mino.injection",
  "injectionSelector": "L:source.js, L:source.ts, L:source.jsx, L:source.tsx",
  "patterns": [
    { "include": "#mino-css-variable" },
    { "include": "#mino-html-variable" },
    { "include": "#mino-css-block" },
    { "include": "#mino-html-block" }
  ],
  "repository": {
    "mino-css-variable": {
      "begin": "\\b(const|let|var)\\s+([a-zA-Z_$][a-zA-Z0-9_$]*)\\s*(=)\\s*(@css)\\s*(\\{)",
      "beginCaptures": {
        "1": { "name": "storage.type.js" },
        "2": { "name": "variable.other.readwrite.js" },
        "3": { "name": "keyword.operator.assignment.js" },
        "4": { "name": "keyword.control.mino" },
        "5": { "name": "punctuation.definition.block.begin.mino" }
      },
      "end": "\\}",
      "applyEndPatternLast": true,
      "endCaptures": {
        "0": { "name": "punctuation.definition.block.end.mino" }
      },
      "contentName": "source.css.embedded.mino",
      "patterns": [
        { "include": "#interpolation" },
        { "include": "source.css" }
      ]
    },
    "mino-css-block": {
      "begin": "@css\\s*(\\{)",
      "beginCaptures": {
        "0": { "name": "keyword.control.mino" },
        "1": { "name": "punctuation.definition.block.begin.mino" }
      },
      "end": "\\}",
      "applyEndPatternLast": true,
      "endCaptures": {
        "0": { "name": "punctuation.definition.block.end.mino" }
      },
      "contentName": "source.css.embedded.mino",
      "patterns": [
        { "include": "#interpolation" },
        { "include": "source.css" }
      ]
    },
    "mino-html-block": {
      "begin": "@html\\s*(\\{)",
      "beginCaptures": {
        "0": { "name": "keyword.control.mino" },
        "1": { "name": "punctuation.definition.block.begin.mino" }
      },
      "end": "\\}",
      "applyEndPatternLast": 1,
      "endCaptures": {
        "0": { "name": "punctuation.definition.block.end.mino" }
      },
      "contentName": "text.html.embedded.mino",
      "patterns": [
        { "include": "#interpolation" },
        { "include": "text.html.basic" }
      ]
    },
    "mino-html-variable": {
      "begin": "\\b(const|let|var)\\s+([a-zA-Z_$][a-zA-Z0-9_$]*)\\s*(=)\\s*(@html)\\s*(\\{)",
      "beginCaptures": {
        "1": { "name": "storage.type.js" },
        "2": { "name": "variable.other.readwrite.js" },
        "3": { "name": "keyword.operator.assignment.js" },
        "4": { "name": "keyword.control.mino" },
        "5": { "name": "punctuation.definition.block.begin.mino" }
      },
      "end": "\\}",
      "applyEndPatternLast": 1,
      "endCaptures": {
        "0": { "name": "punctuation.definition.block.end.mino" }
      },
      "contentName": "text.html.embedded.mino",
      "patterns": [
        { "include": "#interpolation" },
        { "include": "text.html.basic" }
      ]
    },
    "interpolation": {
      "name": "meta.embedded.expression.js",
      "begin": "\\$\\{",
      "beginCaptures": {
        "0": { "name": "punctuation.definition.template-expression.begin.js" }
      },
      "end": "\\}",
      "endCaptures": {
        "0": { "name": "punctuation.definition.template-expression.end.js" }
      },
      "patterns": [
        { "include": "source.js" }
      ]
    }
  }
}

